<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>Chapter 27 Map</title>
  <style>
    :root {
      --bg:#030711;
      --card:#0f172a;
      --card-alt:#1e293b;
      --text:#e2e8f0;
      --accent:#f472b6;
      --muted:#94a3b8;
      --border:#334155;
    }
    *{box-sizing:border-box;}
    body{
      margin:0;
      font-family:"Inter",system-ui,-apple-system,sans-serif;
      background:var(--bg);
      color:var(--text);
    }
    .page{
      display:flex;
      min-height:100vh;
      flex-direction:row;
    }
    .sidebar{
      width:260px;
      background:#020617;
      border-right:1px solid var(--border);
      padding:1.5rem;
      position:sticky;
      top:0;
      height:100vh;
    }
    .sidebar h1{
      margin:0 0 0.8rem;
      font-size:1.25rem;
    }
    .sidebar input{
      width:100%;
      padding:0.55rem;
      border-radius:0.35rem;
      border:1px solid var(--border);
      background:#0b1221;
      color:var(--text);
      margin-bottom:1rem;
    }
    .sidebar nav{
      display:flex;
      flex-direction:column;
      gap:0.35rem;
    }
    .sidebar a{
      color:var(--text);
      text-decoration:none;
      padding:0.4rem 0.5rem;
      border:1px solid transparent;
      border-radius:0.35rem;
      font-size:0.95rem;
    }
    .sidebar a:hover{
      border-color:var(--accent);
      background:rgba(244,114,182,0.15);
    }
    .content{
      flex:1;
      padding:2rem;
      background:linear-gradient(180deg,#01040b,#030711);
      display:flex;
      flex-direction:column;
      gap:1.25rem;
    }
    .card{
      background:var(--card);
      border-radius:1rem;
      border:1px solid var(--border);
      padding:1.4rem;
      box-shadow:0 15px 30px rgba(0,0,0,0.45);
    }
    .card h2{
      margin:0 0 0.9rem;
      font-size:1.35rem;
    }
    .nodes{
      display:flex;
      flex-direction:column;
      gap:0.75rem;
    }
    .node-toggle{
      background:#0b111f;
      border:1px solid var(--border);
      border-radius:0.5rem;
      padding:0.55rem 0.75rem;
      cursor:pointer;
      display:flex;
      justify-content:space-between;
      align-items:center;
      font-weight:600;
      color:var(--text);
    }
    .node-toggle span{
      font-size:0.85rem;
      color:var(--muted);
    }
    .node-content{
      max-height:0;
      overflow:hidden;
      transition:max-height 0.35s ease;
      background:var(--card-alt);
      border-radius:0.6rem;
      border:1px solid var(--border);
      padding:0 0.85rem;
    }
    .node-content.open{
      padding:0.85rem;
      max-height:1000px;
    }
    .node-content p,
    .node-content ul{
      margin:0;
      line-height:1.55;
    }
    .node-content ul{
      padding-left:1rem;
      margin-top:0.4rem;
    }
    .inline-code{
      font-family:"JetBrains Mono","SFMono-Regular",monospace;
      padding:0.1rem 0.35rem;
      border-radius:0.35rem;
      border:1px solid rgba(148,163,184,0.4);
      background:rgba(226,232,240,0.05);
    }
    .copy-btn{
      margin-left:0.4rem;
      background:transparent;
      border:none;
      color:var(--accent);
      cursor:pointer;
    }
    #toast{
      position:fixed;
      right:1.5rem;
      bottom:1.5rem;
      padding:0.65rem 1rem;
      border-radius:0.55rem;
      border:1px solid rgba(244,114,182,0.4);
      background:rgba(15,23,42,0.95);
      opacity:0;
      transition:opacity 0.3s ease;
    }
    @media (max-width:900px){
      .page{
        flex-direction:column;
      }
      .sidebar{
        width:100%;
        height:auto;
        position:static;
        border-right:none;
        border-bottom:1px solid var(--border);
      }
      .content{
        padding:1.25rem;
      }
    }
  </style>
</head>
<body>
  <div class="page">
    <aside class="sidebar">
      <h1>Chapter 27 Map</h1>
      <p style="color:var(--muted);font-size:0.9rem;">Search topics, expand nodes, copy key snippets; double-click copies content too.</p>
      <input id="section-search" type="search" placeholder="Search topics…" />
      <nav>
        <a href="#section-27-1">27.1 Alcohols</a>
        <a href="#section-27-2">27.2 Haloalkanes</a>
        <a href="#section-27-3">27.3 Ethers</a>
        <a href="#section-27-4">27.4 Alcohol Reactions</a>
        <a href="#section-27-5">27.5 SN Reactions</a>
        <a href="#section-27-6">27.6 β-Elimination</a>
        <a href="#section-27-7">27.7 Substitution vs Elimination</a>
      </nav>
    </aside>
    <main class="content">
      <article class="card" id="section-27-1" data-keywords="alcohol OH hydrogen bonding solubility classification">
        <h2>27.1 Alcohols: Structure, Properties, and Nomenclature</h2>
        <div class="nodes">
          <div>
            <button class="node-toggle" data-target="roots-27-1" aria-expanded="false">
              Roots <span>OH functional group</span>
            </button>
            <div class="node-content" id="roots-27-1">
              <p>Alcohols (R–OH) have an sp³ oxygen whose lone pairs and polar O–H bond enable hydrogen bonding, raising boiling points and solubility compared to hydrocarbons.</p>
              <p>Classify alcohols as primary, secondary, or tertiary based on how many carbons attach to the OH-bearing carbon.</p>
            </div>
          </div>
          <div>
            <button class="node-toggle" data-target="trunk-27-1" aria-expanded="false">
              Trunk <span>Formulas</span>
            </button>
            <div class="node-content" id="trunk-27-1">
              <p><span class="inline-code">ROH + 2 Na → 2 RONa + H₂↑</span> – reaction with alkali metals yields alkoxides, which are strong bases/nucleophiles.</p>
              <p>Names come from the parent alkane with the “‑ol” suffix; locants specify the OH’s position.</p>
            </div>
          </div>
          <div>
            <button class="node-toggle" data-target="leaves-27-1" aria-expanded="false">
              Leaves <span>Example</span>
            </button>
            <div class="node-content" id="leaves-27-1">
              <p>Ethanol remains liquid and mixes with water because OH hydrogen bonds, whereas its isomer dimethyl ether boils near −25 °C.</p>
            </div>
          </div>
        </div>
      </article>

      <article class="card" id="section-27-2" data-keywords="haloalkane RX Teflon perfluorocarbon leaving group">
        <h2>27.2 Haloalkanes</h2>
        <div class="nodes">
          <div>
            <button class="node-toggle" data-target="roots-27-2" aria-expanded="false">
              Roots <span>Definition</span>
            </button>
            <div class="node-content" id="roots-27-2">
              <p>Haloalkanes replace H with halogen atoms (R–X). The C–X bond’s polarity renders the carbon electrophilic and the halide a good leaving group.</p>
            </div>
          </div>
          <div>
            <button class="node-toggle" data-target="trunk-27-2" aria-expanded="false">
              Trunk <span>Properties</span>
            </button>
            <div class="node-content" id="trunk-27-2">
              <p>Perfluorinated haloalkanes (CF₂CF₂)n polymerize to Teflon®; haloforms (CHX₃) serve as solvents. Carbon–fluorine bonds are super stable, while C–Cl/Br/I are reactive in synthesis.</p>
            </div>
          </div>
          <div>
            <button class="node-toggle" data-target="leaves-27-2" aria-expanded="false">
              Leaves <span>Example</span>
            </button>
            <div class="node-content" id="leaves-27-2">
              <p>Dichloromethane and chloroform illustrate how haloalkanes dissolve both polar and nonpolar compounds in extractions.</p>
            </div>
          </div>
        </div>
      </article>

      <article class="card" id="section-27-3" data-keywords="ethers ROR polarity solvent crown">
        <h2>27.3 Ethers: Structure, Properties, and Nomenclature</h2>
        <div class="nodes">
          <div>
            <button class="node-toggle" data-target="roots-27-3" aria-expanded="false">
              Roots <span>Structure</span>
            </button>
            <div class="node-content" id="roots-27-3">
              <p>Ethers (R–O–R′) have an sp³ oxygen with two C–O σ bonds; no inter-molecular hydrogen bonding makes their boiling points similar to alkanes but still polar enough to dissolve wider sets of organics.</p>
            </div>
          </div>
          <div>
            <button class="node-toggle" data-target="trunk-27-3" aria-expanded="false">
              Trunk <span>Naming & synthesis</span>
            </button>
            <div class="node-content" id="trunk-27-3">
              <p><span class="inline-code">R–X + R′O⁻ → R–O–R′ + X⁻</span> – Williamson ether synthesis uses strong alkoxides and unhindered haloalkanes to form ethers via SN2.</p>
            </div>
          </div>
          <div>
            <button class="node-toggle" data-target="leaves-27-3" aria-expanded="false">
              Leaves <span>Example</span>
            </button>
            <div class="node-content" id="leaves-27-3">
              <p>Diethyl ether is a classic solvent/anesthetic; crown ethers (18-crown-6) coordinate cations through multiple ether oxygens, boosting macrocyclization yields with template cations (Figure 27.21/27.22).</p>
            </div>
          </div>
        </div>
      </article>

      <article class="card" id="section-27-4" data-keywords="oxonium carbocation dehydration substitution haloalkane">
        <h2>27.4 Reactions of Alcohols</h2>
        <div class="nodes">
          <div>
            <button class="node-toggle" data-target="roots-27-4" aria-expanded="false">
              Roots <span>Oxonium → carbocation</span>
            </button>
            <div class="node-content" id="roots-27-4">
              <p>Protonation turns OH into oxonium (ROH₂⁺), which eliminates water to form a carbocation; stability (3°&gt;2°&gt;1°) controls how smoothly substitution or elimination occurs.</p>
            </div>
          </div>
          <div>
            <button class="node-toggle" data-target="trunk-27-4" aria-expanded="false">
              Trunk <span>Interconversions</span>
            </button>
            <div class="node-content" id="trunk-27-4">
              <p><span class="inline-code">ROH + HX → R–X + H₂O</span> – halogenation via HCl/HBr; tertiary alcohols react readily, primaries need SOCl₂ (Equation 27.7).</p>
              <p><span class="inline-code">ROH ⇌ Alkene + H₂O</span> – acid-catalyzed dehydration forms alkenes (Equation 27.8) by removing β-hydrogen after oxonium ion forms.</p>
            </div>
          </div>
          <div>
            <button class="node-toggle" data-target="leaves-27-4" aria-expanded="false">
              Leaves <span>Example</span>
            </button>
            <div class="node-content" id="leaves-27-4">
              <p>2-Methyl-2-propanol + HBr gives 2-bromo-2-methylpropane (tertiary carbocation). Dehydrating alcohols under acid yields alkenes, with removal of water or distillation pushing equilibrium.</p>
            </div>
          </div>
        </div>
      </article>

      <article class="card" id="section-27-5" data-keywords="SN2 SN1 inversion racemic nucleophile cyanide">
        <h2>27.5 Nucleophilic Substitution of Haloalkanes</h2>
        <div class="nodes">
          <div>
            <button class="node-toggle" data-target="roots-27-5" aria-expanded="false">
              Roots <span>Mechanisms</span>
            </button>
            <div class="node-content" id="roots-27-5">
              <p>SN2 happens in one step with backside attack and inversion; SN1 proceeds via carbocation and gives racemic mixtures (Figure 27.20). SN2 depends on both substrate and nucleophile; SN1 only on substrate.</p>
            </div>
          </div>
          <div>
            <button class="node-toggle" data-target="trunk-27-5" aria-expanded="false">
              Trunk <span>Nucleophiles & products</span>
            </button>
            <div class="node-content" id="trunk-27-5">
              <p>Common nucleophiles: OH⁻, OR⁻, CN⁻, NH₃, halides (Table 27.3). They substitute halides to form alcohols, ethers, nitriles, amines, etc.</p>
            </div>
          </div>
          <div>
            <button class="node-toggle" data-target="leaves-27-5" aria-expanded="false">
              Leaves <span>Example</span>
            </button>
            <div class="node-content" id="leaves-27-5">
              <p>SOCl₂ converts 2-butanol to 2-chlorobutane, which can react with NaCN to give 2-methylbutyronitrile—nitrogen adds a new C atom to the chain (Equation 27.11).</p>
            </div>
          </div>
        </div>
      </article>

      <article class="card" id="section-27-6" data-keywords="beta elimination E2 Zaitsev strong base">
        <h2>27.6 Haloalkanes to Alkenes: β-Elimination</h2>
        <div class="nodes">
          <div>
            <button class="node-toggle" data-target="roots-27-6" aria-expanded="false">
              Roots <span>β-H requirement</span>
            </button>
            <div class="node-content" id="roots-27-6">
              <p>E2 elimination removes a β-hydrogen and the halogen in one concerted step with strong bases like NaOEt or t-BuOK (Equation 27.12/27.13); good β-hydrogen accessibility and a strong base favor elimination.</p>
            </div>
          </div>
          <div>
            <button class="node-toggle" data-target="trunk-27-6" aria-expanded="false">
              Trunk <span>Zaitsev rule</span>
            </button>
            <div class="node-content" id="trunk-27-6">
              <p>The most substituted alkene wins because alkyl substituents stabilize the π bond; bulky bases may favor Hoffman (less substituted) alkenes.</p>
            </div>
          </div>
          <div>
            <button class="node-toggle" data-target="leaves-27-6" aria-expanded="false">
              Leaves <span>Example</span>
            </button>
            <div class="node-content" id="leaves-27-6">
              <p>1-Bromo-1-methylcyclohexane + NaOEt yields 1-methylcyclohexene because ring β-hydrogens give the trisubstituted double bond (Equation 27.14).</p>
            </div>
          </div>
        </div>
      </article>

      <article class="card" id="section-27-7" data-keywords="SN2 SN1 E2 E1 competition base strength tertiary">
        <h2>27.7 Substitution versus Elimination</h2>
        <div class="nodes">
          <div>
            <button class="node-toggle" data-target="roots-27-7" aria-expanded="false">
              Roots <span>Competing pathways</span>
            </button>
            <div class="node-content" id="roots-27-7">
              <p>Strong bases/nucleophiles can either displace halide (SN2) or abstract β-hydrogen (E2); tertiary substrates and carbocations allow SN1/E1, so which path dominates depends on sterics, base strength, and solvent.</p>
            </div>
          </div>
          <div>
            <button class="node-toggle" data-target="trunk-27-7" aria-expanded="false">
              Trunk <span>Decision factors</span>
            </button>
            <div class="node-content" id="trunk-27-7">
              <ul>
                <li>Bulky bases (t-BuOK) favor E2; small, cold bases favor SN2.</li>
                <li>Tertiary carbocations undergo SN1/E1 with racemic mix or alkene (Figure 27.19/27.20); primaries rarely form carbocations.</li>
                <li>Polar protic solvents stabilize carbocations (SN1/E1), while aprotic solvents improve SN2 rates.</li>
              </ul>
            </div>
          </div>
          <div>
            <button class="node-toggle" data-target="leaves-27-7" aria-expanded="false">
              Leaves <span>Example</span>
            </button>
            <div class="node-content" id="leaves-27-7">
              <p>NaOEt + 2-bromobutane yields substitution (2-ethoxybutane) plus elimination (2-butene); tert-butoxide, being bulky, suppresses SN2, so elimination predominates. When a carbocation forms, nucleophiles attack from either face, giving racemic mixtures (SN1).</p>
            </div>
          </div>
        </div>
      </article>
    </main>
  </div>
  <div id="toast" role="status" aria-live="polite"></div>
  <script>
    document.querySelectorAll('.node-toggle').forEach(btn => {
      btn.addEventListener('click', () => {
        const target = document.getElementById(btn.dataset.target);
        const expanded = btn.getAttribute('aria-expanded') === 'true';
        btn.setAttribute('aria-expanded', String(!expanded));
        target.classList.toggle('open', !expanded);
      });
    });

    const toast = document.getElementById('toast');
    let toastTimer;
    const showToast = (msg) => {
      toast.textContent = msg;
      toast.style.opacity = '1';
      clearTimeout(toastTimer);
      toastTimer = setTimeout(() => toast.style.opacity = '0', 2000);
    };

    const copyText = (text) => {
      if (!text) return;
      navigator.clipboard.writeText(text).then(() => showToast('Copied to clipboard'));
    };

    document.body.addEventListener('dblclick', (event) => {
      const container = event.target.closest('.node-content');
      if (container) copyText(container.innerText);
    });

    document.getElementById('section-search').addEventListener('input', (event) => {
      const query = event.target.value.trim().toLowerCase();
      document.querySelectorAll('.card').forEach(card => {
        const keywords = card.dataset.keywords || '';
        card.style.display = query === '' || keywords.includes(query) ? 'block' : 'none';
      });
    });
  </script>
</body>
</html>
