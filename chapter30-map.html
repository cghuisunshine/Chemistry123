<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Chapter 30 Map</title>
  <style>
    :root {
      color-scheme: dark;
      --bg: #030409;
      --panel: #0a0f1e;
      --card: #0f172a;
      --border: #1f2937;
      --muted: #94a3b8;
      --accent: #f472b6;
      --accent-strong: #f9a8d4;
      --toast-bg: rgba(15, 23, 42, 0.95);
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: "Inter", "Segoe UI", system-ui, -apple-system, sans-serif;
      background: var(--bg);
      color: #f8fafc;
      min-height: 100vh;
    }
    .app-shell { display: flex; min-height: 100vh; }
    .sidebar {
      width: 280px;
      background: var(--panel);
      border-right: 1px solid var(--border);
      padding: 2rem;
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }
    .sidebar h1 { margin: 0; font-size: 1.6rem; }
    .sidebar p { margin: 0; color: var(--muted); line-height: 1.4; font-size: 0.95rem; }
    .sidebar input {
      width: 100%;
      border-radius: 0.75rem;
      border: 1px solid #374151;
      background: #0b1421;
      color: #f8fafc;
      padding: 0.65rem 0.9rem;
    }
    .sidebar nav { display: flex; flex-direction: column; gap: 0.4rem; }
    .sidebar nav a { color: var(--accent); text-decoration: none; }
    .sidebar nav a:hover { color: var(--accent-strong); }
    main {
      flex: 1;
      padding: 2rem;
      display: flex;
      flex-direction: column;
      gap: 1.25rem;
    }
    .intro-card, .map-card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 1.3rem;
      padding: 1.25rem 1.5rem;
      box-shadow: 0 30px 65px rgba(2,6,23,0.8);
    }
    .intro-card p { margin: 0.4rem 0; color: var(--muted); }
    .map-card h2 { margin: 0; font-size: 1.35rem; }
    .map-card header p { margin: 0.35rem 0 0; color: var(--muted); }
    .node { margin-top: 1rem; border-radius: 1rem; border: 1px solid var(--border); overflow: hidden; background: rgba(255,255,255,0.03); }
    .node__header { width: 100%; border: none; background: rgba(15,23,42,0.95); padding: 0.85rem 1.2rem; display:flex; align-items:center; justify-content: space-between; font-size:1rem; cursor:pointer; }
    .node__header span { font-weight: 600; }
    .node__header svg { width: 1rem; height: 1rem; transition: transform 0.25s ease; }
    .node[data-open="true"] .node__header svg { transform: rotate(180deg); }
    .node__body { padding: 0 1.2rem; max-height: 0; overflow: hidden; transition: max-height 0.35s ease, padding 0.35s ease; color: #e2e8f0; font-size: 0.95rem; }
    .node[data-open="true"] .node__body { padding: 1rem 1.2rem 1.2rem; max-height: 1000px; }
    .node__body p { margin: 0.6rem 0; line-height: 1.4; }
    .formula-line { display:flex; align-items:center; justify-content:space-between; gap:0.5rem; margin:0.6rem 0; flex-wrap:wrap; }
    .formula-line .formula { font-family: "JetBrains Mono", "Fira Code", monospace; font-size:0.95rem; color:#fefce8; flex:1; }
    .copy-btn { border:1px solid rgba(255,255,255,0.4); background:rgba(255,255,255,0.05); color:#f8fafc; padding:0.3rem 0.65rem; border-radius:0.6rem; cursor:pointer; font-size:0.9rem; }
    .copy-btn:hover { border-color: var(--accent); color: var(--accent); }
    #toast { position:fixed; bottom:1.2rem; right:1.2rem; padding:0.75rem 1.2rem; border-radius:999px; background:var(--toast-bg); color:#e2e8f0; opacity:0; transform:translateY(16px); transition:opacity 0.25s ease, transform 0.25s ease; }
    #toast.show { opacity:1; transform:translateY(0); }
    .hidden { display:none !important; }
    @media (max-width: 900px) { .app-shell { flex-direction:column; } .sidebar { width:100%; border-right:none; border-bottom:1px solid var(--border); } main { padding:1.5rem; } }
  </style>
</head>
<body>
  <div class="app-shell">
    <aside class="sidebar">
      <h1>Chapter 30 Map</h1>
      <p>Explore aromatic structure, nomenclature, acidity, and electrophilic substitution. Filter, collapse nodes, copy text, and tap to share formulas.</p>
      <input id="filterInput" type="search" placeholder="Filter cards (e.g., nitration, phenol, isotomers)" aria-label="Filter sections">
      <nav>
        <a href="#section-30-1">30.1 Benzene Structure</a>
        <a href="#section-30-2">30.2 Aromatic Nomenclature</a>
        <a href="#section-30-3">30.3 Aromaticity</a>
        <a href="#section-30-4">30.4 Phenol Acidity</a>
        <a href="#section-30-5">30.5 Electrophilic Substitution</a>
      </nav>
    </aside>
    <main>
      <div class="intro-card">
        <p><strong>Note:</strong> Use the filter box to hide irrelevant cards, collapse nodes to focus, and double-click any paragraph to copy it. Clipboard buttons copy formulas.</p>
      </div>

      <article class="map-card" id="section-30-1" data-keywords="benzene delocalization Kekule resonance stability aromatic">
        <header>
          <h2>30.1 The Structure of Benzene</h2>
          <p>Benzene‚Äôs delocalized œÄ-system, equal bond lengths, and H√ºckel criteria for aromaticity.</p>
        </header>
        <div class="node" data-open="true">
          <button class="node__header" type="button" data-role="toggle" aria-expanded="true">
            <span>Roots ¬∑ Core ideas &amp; definitions</span>
            <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none"><path d="M6 9l6 6 6-6"/></svg>
          </button>
          <div class="node__body">
            <p data-copyable="true">Each benzene carbon is sp¬≤ hybridized, bonded to two carbons and a hydrogen, with one unhybridized p orbital forming a ring of six overlapping p orbitals that delocalize six œÄ-electrons, resulting in identical C‚ÄìC bonds (~139 pm) and extraordinary stability.</p>
            <p data-copyable="true">Kekul√©‚Äôs resonating structures vs. the circle-in-a-hexagon representation show that œÄ-electrons are not localized but shared across the ring, explaining why benzene resists addition reactions and avoids disrupting the aromatic sextet.</p>
          </div>
        </div>
        <div class="node" data-open="true">
          <button class="node__header" type="button" data-role="toggle" aria-expanded="true">
            <span>Trunk ¬∑ Formulas, rules, and behavior</span>
            <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none"><path d="M6 9l6 6 6-6"/></svg>
          </button>
          <div class="node__body">
            <div class="formula-line">
              <span class="formula" data-copyable="true" data-copy-text="C6H6">C‚ÇÜH‚ÇÜ (benzene)</span>
              <button class="copy-btn" type="button" data-copy-text="C6H6 (benzene)" aria-label="Copy benzene formula">üìã</button>
            </div>
            <div class="formula-line">
              <span class="formula" data-copyable="true" data-copy-text="ŒîHhydrogenation(benzene) = -208 kJ/mol">ŒîH_hydrogenation (benzene) = -208 kJ/mol</span>
              <button class="copy-btn" type="button" data-copy-text="ŒîHhydrogenation(benzene) = -208 kJ/mol" aria-label="Copy heat of hydrogenation">üìã</button>
            </div>
            <p data-copyable="true">The expected energy for three isolated double bonds (-348 kJ/mol) is 140 kJ/mol larger than the actual value, highlighting benzene‚Äôs aromatic stabilization energy.</p>
          </div>
        </div>
        <div class="node" data-open="true">
          <button class="node__header" type="button" data-role="toggle" aria-expanded="true">
            <span>Leaves ¬∑ Examples &amp; interpretations</span>
            <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none"><path d="M6 9l6 6 6-6"/></svg>
          </div>
          <div class="node__body">
            <p data-copyable="true">Benzene doesn‚Äôt react with Br‚ÇÇ at room temperature, whereas cyclohexene immediately adds bromine; benzene instead undergoes substitution (e.g., nitration) to preserve aromaticity.</p>
          </div>
        </div>
      </article>

      <article class="map-card" id="section-30-2" data-keywords="nomenclature ortho meta para phenol benzaldehyde aniline">
        <header>
          <h2>30.2 Isomerism &amp; Nomenclature</h2>
          <p>Common names, phenyl/benzyl derivatives, and naming rules for aromatic substituents and isomers.</p>
        </header>
        <div class="node" data-open="true">
          <button class="node__header" data-role="toggle" aria-expanded="true">
            <span>Roots ¬∑ Core ideas &amp; definitions</span>
            <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none"><path d="M6 9l6 6 6-6"/></svg>
          </button>
          <div class="node__body">
            <p data-copyable="true">Substituted benzenes adopt ortho (1,2), meta (1,3), and para (1,4) relationships. When common names exist (e.g., toluene, phenol, aniline), that parent group is assigned position 1 before numbering others alphabetically.</p>
            <p data-copyable="true">Phenyl (C‚ÇÜH‚ÇÖ‚Äì) arises from benzene losing hydrogen; benzyl (PhCH‚ÇÇ‚Äì) from toluene. Familiar derivatives include benzaldehyde, benzoic acid, BHT antioxidant, vanillin, and aspirin (acetylsalicylic acid).</p>
          </div>
        </div>
        <div class="node" data-open="true">
          <button class="node__header" data-role="toggle" aria-expanded="true">
            <span>Trunk ¬∑ Formulas, rules, and behavior</span>
            <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none"><path d="M6 9l6 6 6-6"/></svg>
          </button>
          <div class="node__body">
            <p data-copyable="true">Ortho/meta/para notation (o/m/p-) is equivalent to numbering. Naming aims to minimize locants, e.g., 2-chloro-6-methylphenol rather than 3-chloro-2-hydroxytoluene, obeying a hierarchy where phenol outranks toluene.</p>
          </div>
        </div>
        <div class="node" data-open="true">
          <button class="node__header" data-role="toggle" aria-expanded="true">
            <span>Leaves ¬∑ Examples</span>
            <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none"><path d="M6 9l6 6 6-6"/></svg>
          </button>
          <div class="node__body">
            <p data-copyable="true">Disubstituted examples: o-ethyltoluene, p-chlorophenol, m-nitroaniline, 5-bromo-2-nitrobenzaldehyde, and 2-chloro-6-methylphenol illustrate how substituent types affect naming and properties.</p>
          </div>
        </div>
      </article>

      <article class="map-card" id="section-30-3" data-keywords="aromaticity H√ºckel resonance energy hydrogenation boron heterocycles">
        <header>
          <h2>30.3 Aromaticity</h2>
          <p>H√ºckel‚Äôs 4n + 2 rule, resonance stabilization, and how delocalization resists addition.</p>
        </header>
        <div class="node" data-open="true">
          <button class="node__header" data-role="toggle" aria-expanded="true">
            <span>Roots ¬∑ Core ideas &amp; definitions</span>
            <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none"><path d="M6 9l6 6 6-6"/></svg>
          </button>
          <div class="node__body">
            <p data-copyable="true">Aromatic compounds must be cyclic, planar, have a p orbital on each ring atom, and contain 4n + 2 œÄ-electrons (n integer). This configuration creates a stabilized œÄ cloud resistant to reactions that break aromaticity.</p>
          </div>
        </div>
        <div class="node" data-open="true">
          <button class="node__header" data-role="toggle" aria-expanded="true">
            <span>Trunk ¬∑ Formulas, rules, and behavior</span>
            <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none"><path d="M6 9l6 6 6-6"/></svg>
          </button>
          <div class="node__body">
            <div class="formula-line">
              <span class="formula" data-copyable="true" data-copy-text="ŒîHhydrogenation(benzene) ‚âà -208 kJ/mol">ŒîH_hydrogenation (benzene) ‚âà -208 kJ/mol</span>
              <button class="copy-btn" type="button" data-copy-text="ŒîHhydrogenation(benzene) ‚âà -208 kJ/mol" aria-label="Copy aromatic energy">üìã</button>
            </div>
            <p data-copyable="true">The expected heat of hydrogenating three separate double bonds (-348 kJ/mol) vs. the observed -208 kJ/mol demonstrates aromatic stabilization (~140 kJ/mol difference).</p>
          </div>
        </div>
        <div class="node" data-open="true">
          <button class="node__header" data-role="toggle" aria-expanded="true">
            <span>Leaves ¬∑ Examples &amp; interpretations</span>
            <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none"><path d="M6 9l6 6 6-6"/></svg>
          </button>
          <div class="node__body">
            <p data-copyable="true">Cyclohexene reduces bromine immediately, but benzene doesn‚Äôt react at room temperature; aromatic systems prefer substitution to preserve the 4n + 2 œÄ set.</p>
            <p data-copyable="true">Heterocycles with oxygen, nitrogen, or sulfur can also be aromatic provided their lone pairs contribute to the œÄ-sextet, explaining their prevalence in biological molecules.</p>
          </div>
        </div>
      </article>

      <article class="map-card" id="section-30-4" data-keywords="phenol acidity resonance inductive phenoxide pka">
        <header>
          <h2>30.4 Acidity of Phenols</h2>
          <p>Phenol acidity, resonance-stabilized phenoxide, inductive effects, and separations.</p>
        </header>
        <div class="node" data-open="true">
          <button class="node__header" data-role="toggle" aria-expanded="true">
            <span>Roots ¬∑ Core ideas &amp; definitions</span>
            <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none"><path d="M6 9l6 6 6-6"/></svg>
          </button>
          <div class="node__body">
            <p data-copyable="true">Phenol is ~10‚Å∂ times more acidic than cyclohexanol because the phenoxide anion delocalizes the negative charge through resonance around the aromatic ring, whereas alkoxide ions localize the charge on oxygen.</p>
            <p data-copyable="true">Electron-withdrawing substituents (NO‚ÇÇ, CF‚ÇÉ, halogens) lower pKa by further stabilizing the phenoxide via inductive/resonance effects, while electron-donating groups reduce acidity.</p>
          </div>
        </div>
        <div class="node" data-open="true">
          <button class="node__header" data-role="toggle" aria-expanded="true">
            <span>Trunk ¬∑ Formulas, rules, and behavior</span>
            <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none"><path d="M6 9l6 6 6-6"/></svg>
          </button>
          <div class="node__body">
            <div class="formula-line">
              <span class="formula" data-copyable="true" data-copy-text="C6H5OH + OH‚Åª ‚Üí C6H5O‚Åª + H2O">C‚ÇÜH‚ÇÖOH + OH‚Åª ‚Üí C‚ÇÜH‚ÇÖO‚Åª + H‚ÇÇO</span>
              <button class="copy-btn" type="button" data-copy-text="C6H5OH + OH‚Åª ‚Üí C6H5O‚Åª + H2O" aria-label="Copy deprotonation">üìã</button>
            </div>
            <p data-copyable="true">The phenoxide ion exhibits multiple resonance structures in Figure 30.11, demonstrating how the negative charge spreads across ortho/para carbons.</p>
            <div class="formula-line">
              <span class="formula" data-copyable="true" data-copy-text="C6H5OH + NaOH ‚Üí C6H5O‚ÅªNa‚Å∫ + H2O">C‚ÇÜH‚ÇÖOH + NaOH ‚Üí C‚ÇÜH‚ÇÖO‚ÅªNa‚Å∫ + H‚ÇÇO</span>
              <button class="copy-btn" type="button" data-copy-text="C6H5OH + NaOH ‚Üí C6H5O‚ÅªNa‚Å∫ + H2O" aria-label="Copy salt formation">üìã</button>
            </div>
            <p data-copyable="true">Aqueous NaOH extracts phenols as water-soluble sodium salts, allowing separation from neutral organic molecules (e.g., cyclohexanol) via liquid-liquid extraction.</p>
          </div>
        </div>
        <div class="node" data-open="true">
          <button class="node__header" data-role="toggle" aria-expanded="true">
            <span>Leaves ¬∑ Examples &amp; interpretations</span>
            <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none"><path d="M6 9l6 6 6-6"/></svg>
          </div>
          <div class="node__body">
            <p data-copyable="true">Table 30.1 shows phenols with pKa from ~10 (phenol) down to ~0.5 (picric acid) depending on substituents. When separating 4-nitrophenol and cyclohexanol, aqueous NaOH captures only the stronger acid.</p>
          </div>
        </div>
      </article>

      <article class="map-card" id="section-30-5" data-keywords="EAS nitration halogenation FriedelCrafts directing groups meta ortho para">
        <header>
          <h2>30.5 Electrophilic Aromatic Substitution (EAS)</h2>
          <p>Mechanism, electrophiles, activation/deactivation, and directing effects for bromination, nitration, and Friedel‚ÄìCrafts.</p>
        </header>
        <div class="node" data-open="true">
          <button class="node__header" data-role="toggle" aria-expanded="true">
            <span>Roots ¬∑ Core ideas &amp; definitions</span>
            <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none"><path d="M6 9l6 6 6-6"/></svg>
          </button>
          <div class="node__body">
            <p data-copyable="true">EAS reactions replace an aromatic hydrogen with an electrophile (E‚Å∫) while preserving the aromatic sextet; typical electrophiles are Br‚Å∫, Cl‚Å∫, NO‚ÇÇ‚Å∫, carbocations, or acylium ions generated via catalysts like FeBr‚ÇÉ, FeCl‚ÇÉ, AlCl‚ÇÉ.</p>
            <p data-copyable="true">The substitution mechanism passes through a resonance-stabilized œÉ-complex (Wheland intermediate) before deprotonation restores aromaticity; the rate-determining step is electrophilic attack.</p>
          </div>
        </div>
        <div class="node" data-open="true">
          <button class="node__header" data-role="toggle" aria-expanded="true">
            <span>Trunk ¬∑ Formulas, rules, and behavior</span>
            <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none"><path d="M6 9l6 6 6-6"/></svg>
          </button>
          <div class="node__body">
            <div class="formula-line">
              <span class="formula" data-copyable="true" data-copy-text="C6H6 + E‚Å∫ ‚Üí C6H5E + H‚Å∫">C‚ÇÜH‚ÇÜ + E‚Å∫ ‚Üí C‚ÇÜH‚ÇÖE + H‚Å∫</span>
              <button class="copy-btn" type="button" data-copy-text="C6H6 + E‚Å∫ ‚Üí C6H5E + H‚Å∫" aria-label="Copy general EAS">üìã</button>
            </div>
            <div class="formula-line">
              <span class="formula" data-copyable="true" data-copy-text="Br2/FeBr3 ‚Üí Br‚Å∫">Br‚ÇÇ/FeBr‚ÇÉ ‚Üí Br‚Å∫</span>
              <button class="copy-btn" type="button" data-copy-text="Br2/FeBr3 ‚Üí Br‚Å∫" aria-label="Copy bromination">üìã</button>
            </div>
            <div class="formula-line">
              <span class="formula" data-copyable="true" data-copy-text="HNO3/H2SO4 ‚Üí NO2‚Å∫">HNO‚ÇÉ/H‚ÇÇSO‚ÇÑ ‚Üí NO‚ÇÇ‚Å∫</span>
              <button class="copy-btn" type="button" data-copy-text="HNO3/H2SO4 ‚Üí NO2‚Å∫" aria-label="Copy nitration">üìã</button>
            </div>
            <div class="formula-line">
              <span class="formula" data-copyable="true" data-copy-text="RCl/AlCl3 ‚Üí R‚Å∫">RCl/AlCl‚ÇÉ ‚Üí R‚Å∫ (Friedel‚ÄìCrafts)"</span>
              <button class="copy-btn" type="button" data-copy-text="RCl/AlCl3 ‚Üí R‚Å∫" aria-label="Copy Friedel‚ÄìCrafts">üìã</button>
            </div>
          </div>
        </div>
        <div class="node" data-open="true">
          <button class="node__header" data-role="toggle" aria-expanded="true">
            <span>Leaves ¬∑ Examples &amp; directing rules</span>
            <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none"><path d="M6 9l6 6 6-6"/></svg>
          </button>
          <div class="node__body">
            <p data-copyable="true">Methyl and alkoxy groups activate the ring and direct ortho/para because their intermediates can form tertiary carbocations stabilized by resonance (e.g., nitration of anisole favors ortho/para with four resonance contributors).</p>
            <p data-copyable="true">Strong electron-withdrawing groups (NO‚ÇÇ, CF‚ÇÉ, SO‚ÇÉH, COOR) deactivate and direct meta; halogens are deactivating but still ortho/para due to resonance donation, while nitrobenzene requires harsh conditions and gives meta products.</p>
            <p data-copyable="true">Synthesis pathways leverage these effects‚Äîfor example, nitrating toluene yields para-nitrotoluene predominately, whereas nitrating nitrobenzene (deactivating meta-director) yields meta-dinitrobenzene.</p>
          </div>
        </div>
      </article>

    </main>
  </div>
  <div id="toast" role="status" aria-live="polite"></div>
  <script>
    const toggleButtons = document.querySelectorAll('[data-role="toggle"]');
    toggleButtons.forEach(button => button.addEventListener('click', () => {
      const node = button.closest('.node');
      const isOpen = node.getAttribute('data-open') === 'true';
      node.setAttribute('data-open', String(!isOpen));
      button.setAttribute('aria-expanded', String(!isOpen));
    }));

    const cards = document.querySelectorAll('.map-card');
    const filterInput = document.getElementById('filterInput');
    filterInput.addEventListener('input', () => {
      const term = filterInput.value.trim().toLowerCase();
      cards.forEach(card => {
        const haystack = (card.dataset.keywords || '') + ' ' + card.textContent;
        card.classList.toggle('hidden', !haystack.toLowerCase().includes(term));
      });
    });

    const toast = document.getElementById('toast');
    let toastTimer;
    function showToast(message) {
      toast.textContent = message;
      toast.classList.add('show');
      clearTimeout(toastTimer);
      toastTimer = setTimeout(() => toast.classList.remove('show'), 2000);
    }

    async function copyText(text) {
      if (!text) return;
      try {
        await navigator.clipboard.writeText(text);
        showToast('Copied to clipboard');
      } catch (err) {
        const textarea = document.createElement('textarea');
        textarea.value = text;
        textarea.style.position = 'fixed';
        textarea.style.opacity = '0';
        document.body.appendChild(textarea);
        textarea.select();
        document.execCommand('copy');
        document.body.removeChild(textarea);
        showToast('Copied to clipboard');
      }
    }

    document.addEventListener('click', event => {
      const button = event.target.closest('.copy-btn');
      if (!button) return;
      const payload = button.dataset.copyText || button.previousElementSibling?.textContent;
      if (payload) copyText(payload.trim());
    });

    document.addEventListener('dblclick', event => {
      if (event.target.closest('button')) return;
      const target = event.target.closest('[data-copyable]');
      if (!target) return;
      const payload = target.dataset.copyText || target.innerText;
      if (payload) copyText(payload.trim());
    });
  </script>
</body>
</html>
